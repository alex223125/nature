0. Add MAPBOX_ACCESS_TOKEN to .env file
```
MAPBOX_ACCESS_TOKEN=111111111111111111111111111111
```

1.Prepare data
```
rake import_species_presence
```

2.Run app:
```
rails assets:precompile
bin/dev
```


3. presence endpoint

```
curl -i http://localhost:3000/api/v1/occurrences/presence.json \
 -X "POST" \
 -d "presence[latitude]="-16.185317"" \
 -d "presence[longitude]=179.73695"
 ```

 Example:

 ```
 user@user:~/nature_app$ curl -i http://localhost:3000/api/v1/occurrences/presence.json  -X "POST"  -d "presence[latitude]="-16.185317""  -d "presence[longitude]=179.73695"
 HTTP/1.1 200 OK
 X-Frame-Options: SAMEORIGIN
 X-XSS-Protection: 0
 X-Content-Type-Options: nosniff
 X-Download-Options: noopen
 X-Permitted-Cross-Domain-Policies: none
 Referrer-Policy: strict-origin-when-cross-origin
 Content-Type: application/json; charset=utf-8
 ETag: W/"402faaad69e3a1acd578a963a8bfc874"
 Cache-Control: max-age=0, private, must-revalidate
 X-Request-Id: 9b18661f-7223-44e9-80a1-7bed3608e0e8
 X-Runtime: 2.990724
 Server-Timing: sql.active_record;dur=36.76, start_processing.action_controller;dur=0.13, instantiation.active_record;dur=54.54, render.active_model_serializers;dur=6.94, process_action.action_controller;dur=2808.48
 Transfer-Encoding: chunked

 [{"id":1,"scientific_name":"Jania adhaerens","scientific_name_id":"urn:lsid:marinespecies.org:taxname:145123","kingdom":"Plantae","phylum":"Rhodophyta","specie_class":"Florideophyceae","order":"Corallinales","family":"Corallinaceae","genus":"Jania","scientific_name_authorship":"J.V.Lamouroux, 1816","fid":"1"},{"id":2,"scientific_name":"Rhipiliella verticillata","scientific_name_id":"urn:lsid:marinespecies.org:taxname:372311","kingdom":"Plantae","phylum":"Chlorophyta","specie_class":"Ulvophyceae","order":"Bryopsidales","family":"Udoteaceae","genus":"Rhipiliella","scientific_name_authorship":"Kraft, 1986","fid":"2"},{"id":3,"scientific_name":"Chondria simpliciuscula","scientific_name_id":"urn:lsid:marinespecies.org:taxname:371639","kingdom":"Plantae","phylum":"Rhodophyta","specie_class":"Florideophyceae","order":"Ceramiales","family":"Rhodomelaceae","genus":"Chondria","scientific_name_authorship":"Weber-van Bosse, 1913","fid":"3"},{"id":4,"scientific_name":"Pseudoceratina purpurea","scientific_name_id":"urn:lsid:marinespecies.org:taxname:169702","kingdom":"Animalia","phylum":"Porifera","specie_class":"Demospongiae","order":"Verongida","family":"Pseudoceratinidae","genus":"Pseudoceratina","scientific_name_authorship":"(Carter, 1880)","fid":"4"},{"id":5,"scientific_name":"Phyllospongia papyracea","scientific_name_id":"urn:lsid:marinespecies.org:taxname:165287","kingdom":"Animalia","phylum":"Porifera","specie_class":"Demospongiae","order":"Dictyoceratida","family":"Thorectidae","genus":"Phyllospongia","scientific_name_authorship":"(Esper, 1794)","fid":"5"},{"id":6,"scientific_name":"Halimeda discoidea","scientific_name_id":"urn:lsid:marinespecies.org:taxname:144481","kingdom":"Plantae","phylum":"Chlorophyta","specie_class":"Ulvophyceae","order":"Bryopsidales","family":"Halimedaceae","genus":"Halimeda","scientific_name_authorship":"Decaisne, 1842","fid":"6"},{"id":7,"scientific_name":"Udotea geppiorum","scientific_name_id":"urn:lsid:marinespecies.org:taxname:374219","kingdom":"Plantae","phylum":"Chlorophyta","specie_class":"Ulvophyceae","order":"Bryopsidales","family":"Udoteaceae","genus":"Udotea","scientific_name_authorship":"Yamada, 1930","fid":"7"},{"id":8,"scientific_name":"Avrainvillea lacerata","scientific_name_id":"urn:lsid:marinespecies.org:taxname:221169","kingdom":"Plantae","phylum":"Chlorophyta","specie_class":"Ulvophyceae","order":"Bryopsidales","family":"Dichotomosiphonaceae","genus":"Avrainvillea","scientific_name_authorship":"Harvey ex J.Agardh, 1887","fid":"8"},{"id":9,"scientific_name":"Acanthella cavernosa","scientific_name_id":"urn:lsid:marinespecies.org:taxname:165651","kingdom":"Animalia","phylum":"Porifera","specie_class":"Demospongiae","order":"Halichondrida","family":"Dictyonellidae","genus":"Acanthella","scientific_name_authorship":"Dendy, 1922","fid":"9"},{"id":10,"scientific_name":"Lomentaria corallicola","scientific_name_id":"urn:lsid:marinespecies.org:taxname:214033","kingdom":"Plantae","phylum":"Rhodophyta","specie_class":"Florideophyceae","order":"Rhodymeniales","family":"Lomentariaceae","genus":"Lomentaria","scientific_name_authorship":"Børgesen, 1939","fid":"10"},{"id":11,"scientific_name":"Rhipidosiphon javensis","scientific_name_id":"urn:lsid:marinespecies.org:taxname:214418","kingdom":"Plantae","phylum":"Chlorophyta","specie_class":"Ulvophyceae","order":"Bryopsidales","family":"Udoteaceae","genus":"Rhipidosiphon","scientific_name_authorship":"Montagne, 1842","fid":"11"},{"id":12,"scientific_name":"Cheilosporum spectabile","scientific_name_id":"urn:lsid:marinespecies.org:taxname:381140","kingdom":"Plantae","phylum":"Rhodophyta","specie_class":"Florideophyceae","order":"Corallinales","family":"Corallinaceae","genus":"Cheilosporum","scientific_name_authorship":"Harvey ex Grunow, 1874","fid":"12"},{"id":13,"scientific_name":"Ceratodictyon","scientific_name_id":"urn:lsid:marinespecies.org:taxname:206099","kingdom":"Plantae","phylum":"Rhodophyta","specie_class":"Florideophyceae","order":"Rhodymeniales","family":"Lomentariaceae","genus":"Ceratodictyon","scientific_name_authorship":"Zanardini, 1878","fid":"13"},{"id":14,"scientific_name":"Aplysinopsis sp.","scientific_name_id":"urn:lsid:marinespecies.org:taxname:131761","kingdom":"Animalia","phylum":"Porifera","specie_class":"Demospongiae","order":"Dictyoceratida","family":"Thorectidae","genus":"Aplysinopsis","scientific_name_authorship":"Lendenfeld, 1888","fid":"14"},{"id":15,"scientific_name":"Dysidea sp.","scientific_name_id":"urn:lsid:marinespecies.org:taxname:131745","kingdom":"Animalia","phylum":"Porifera","specie_class":"Demospongiae","order":"Dictyoceratida","family":"Dysideidae","genus":"Dysidea","scientific_name_authorship":"Johnston, 1842","fid":"15"},{"id":16,"scientific_name":"Stylissa carteri","scientific_name_id":"urn:lsid:marinespecies.org:taxname:165705","kingdom":"Animalia","phylum":"Porifera","specie_class":"Demospongiae","order":"Halichondrida","family":"Dictyonellidae","genus":"Stylissa","scientific_name_authorship":"(Dendy, 1889)","fid":"16"},{"id":17,"scientific_name":"Xestospongia pacifica","scientific_name_id":"urn:lsid:marinespecies.org:taxname:194570","kingdom":"Animalia","phylum":"Porifera","specie_class":"Demospongiae","order":"Haplosclerida","family":"Petrosiidae","genus":"Xestospongia","scientific_name_authorship":"Kelly-Borges \u0026 Bergquist, 1988","fid":"17"},{"id":18,"scientific_name":"Halymenia porphyraeformis","scientific_name_id":"urn:lsid:marinespecies.org:taxname:371241","kingdom":"Plantae","phylum":"Rhodophyta","specie_class":"Florideophyceae","order":"Halymeniales","family":"Halymeniaceae","genus":"Halymenia","scientific_name_authorship":"Parkinson, 1980","fid":"18"},{"id":19,"scientific_name":"Niphates sp.","scientific_name_id":"urn:lsid:marinespecies.org:taxname:166770","kingdom":"Animalia","phylum":"Porifera","specie_class":"Demospongiae","order":"Haplosclerida","family":"Niphatidae","genus":"Niphates","scientific_name_authorship":"Duchassaing \u0026 Michelotti, 1864","fid":"19"},{"id":20,"scientific_name":"Cacospongia sp.","scientific_name_id":"urn:lsid:marinespecies.org:taxname:131762","kingdom":"Animalia","phylum":"Porifera","specie_class":"Demospongiae","order":"Dictyoceratida","family":"Thorectidae","genus":"Cacospongia","scientific_name_authorship":"Schmidt, 1862","fid":"20"},{"id":21,"scientific_name":"Corynocystis prostrata","scientific_name_id":"urn:lsid:marinespecies.org:taxname:214434","kingdom":"Plantae","phylum":"Rhodophyta","specie_class":"Florideophyceae","order":"Gigartinales","family":"Corynocystaceae","genus":"Corynocystis","scientific_name_authorship":"Kraft, 1999","fid":"21"},{"id":22,"scientific_name":"Dictyosphaeria cavernosa","scientific_name_id":"urn:lsid:marinespecies.org:taxname:214395","kingdom":"Plantae","phylum":"Chlorophyta","specie_class":"Ulvophyceae","order":"Siphonocladales","family":"Siphonocladaceae","genus":"Dictyosphaeria","scientific_name_authorship":"(Forsskål) Børgesen, 1932","fid":"22"},{"id":23,"scientific_name":"Phacelocarpus neurymenioides","scientific_name_id":"urn:lsid:marinespecies.org:taxname:372323","kingdom":"Plantae","phylum":"Rhodophyta","specie_class":"Florideophyceae","order":"Gigartinales","family":"Phacelocarpaceae","genus":"Phacelocarpus","scientific_name_authorship":"A.D.R.N'Yeurt, D.W.Keats \u0026 R.E.Norris, 1995","fid":"23"},{"id":24,"scientific_name":"Halymenia sp.","scientific_name_id":"urn:lsid:marinespecies.org:taxname:144045","kingdom":"Plantae","phylum":"Rhodophyta","specie_class":"Florideophyceae","order":"Halymeniales","family":"Halymeniaceae","genus":"Halymenia","scientific_name_authorship":"C.Agardh, 1817","fid":"24"},{"id":25,"scientific_name":"Tricleocarpa fragilis","scientific_name_id":"urn:lsid:marinespecies.org:taxname:145745","kingdom":"Plantae","phylum":"Rhodophyta","specie_class":"Florideophyceae","order":"Nemaliales","family":"Galaxauraceae","genus":"Tricleocarpa","scientific_name_authorship":"(Linnaeus) Huisman \u0026 R.A.Townsend, 1993","fid":"25"},{"id":26,"scientific_name":"Dactylospongia sp.","scientific_name_id":"urn:lsid:marinespecies.org:taxname:165311","kingdom":"Animalia","phylum":"Porifera","specie_class":"Demospongiae","order":"Dictyoceratida","family":"Thorectidae","genus":"Dactylospongia","scientific_name_authorship":"Bergquist, 1965","fid":"26"},{"id":27,"scientific_name":"Portieria hornemannii","scientific_name_id":"urn:lsid:marinespecies.org:taxname:213851","kingdom":"Plantae","phylum":"Rhodophyta","specie_class":"Florideophyceae","order":"Gigartinales","family":"Rhizophyllidaceae","genus":"Portieria","scientific_name_authorship":"(Lyngbye) P.C.Silva, 1987","fid":"27"},{"id":28,"scientific_name":"Valonia utricularis","scientific_name_id":"urn:lsid:marinespecies.org:taxname:145884","kingdom":"Plantae","phylum":"Chlorophyta","specie_class":"Ulvophyceae","order":"Siphonocladales","family":"Valoniaceae","genus":"Valonia","scientific_name_authorship":"(Roth) C.Agardh, 1823","fid":"28"},{"id":29,"scientific_name":"Tolypiocladia glomerulata","scientific_name_id":"urn:lsid:marinespecies.org:taxname:214277","kingdom":"Plantae","phylum":"Rhodophyta","specie_class":"Florideophyceae","order":"Ceramiales","family":"Rhodomelaceae","genus":"Tolypiocladia","scientific_name_authorship":"(C.Agardh) F.Schmitz, 1897","fid":"29"},{"id":30,"scientific_name":"Pseudoceratina sp.","scientific_name_id":"urn:lsid:marinespecies.org:taxname:169698","kingdom":"Animalia","phylum":"Porifera","specie_class":"Demospongiae","order":"Verongida","family":"Pseudoceratinidae","genus":"Pseudoceratina","scientific_name_authorship":"Carter, 1885","fid":"30"},{"id":31,"scientific_name":"Thorecta sp.","scientific_name_id":"urn:lsid:marinespecies.org:taxname:165409","kingdom":"Animalia","phylum":"Porifera","specie_class":"Demospongiae","order":"Dictyoceratida","family":"Thorectidae","genus":"Thorecta","scientific_name_authorship":"Lendenfeld, 1888","fid":"31"},{"id":32,"scientific_name":"Ptilocaulis sp.","scientific_name_id":"urn:lsid:marinespecies.org:taxname:165605","kingdom":"Animalia","phylum":"Porifera","specie_class":"Demospongiae","order":"Halichondrida","family":"Axinellidae","genus":"Ptilocaulis","scientific_name_authorship":"Carter, 1883","fid":"32"},{"id":33,"scientific_name":"Callyspongia (Euplacella) sp.","scientific_name_id":"urn:lsid:marinespecies.org:taxname:166234","kingdom":"Animalia","phylum":"Porifera","specie_class":"Demospongiae","order":"Haplosclerida","family":"Callyspongiidae","genus":"Callyspongia","scientific_name_authorship":"Lendenfeld, 1887","fid":"33"},{"id":139,"scientific_name":"Gelidiopsis scoparia","scientific_name_id":"urn:lsid:marinespecies.org:taxname:212202","kingdom":"Plantae","phylum":"Rhodophyta","specie_class":"Florideophyceae","order":"Rhodymeniales","family":"Lomentariaceae","genus":"Gelidiopsis","scientific_name_authorship":"(Montagne \u0026 Millardet) De Toni, 1900","fid":"229"},{"id":154,"scientific_name":"Amphiroa valonioides","scientific_name_id":"urn:lsid:marinespecies.org:taxname:372140","kingdom":"Plantae","phylum":"Rhodophyta","specie_class":"Florideophyceae","order":"Corallinales","family":"Corallinaceae","genus":"Amphiroa","scientific_name_authorship":"Yendo, 1902","fid":"269"},{"id":166,"scientific_name":"Leucetta solida","scientific_name_id":"urn:lsid:marinespecies.org:taxname:132286","kingdom":"Animalia","phylum":"Porifera","specie_class":"Calcarea","order":"Clathrinida","family":"Leucettidae","genus":"Leucetta","scientific_name_authorship":"(Schmidt, 1862)","fid":"320"},{"id":73,"scientific_name":"Amphiroa foliacea","scientific_name_id":"urn:lsid:marinespecies.org:taxname:211638","kingdom":"Plantae","phylum":"Rhodophyta","specie_class":"Florideophyceae","order":"Corallinales","family":"Corallinaceae","genus":"Amphiroa","scientific_name_authorship":"J.V.Lamouroux, 1824","fid":"91"},{"id":112,"scientific_name":"Axinyssa sp.","scientific_name_id":"urn:lsid:marinespecies.org:taxname:131802","kingdom":"Animalia","phylum":"Porifera","specie_class":"Demospongiae","order":"Halichondrida","family":"Halichondriidae","genus":"Axinyssa","scientific_name_authorship":"Lendenfeld, 1897","fid":"163"},{"id":266,"scientific_name":"Strongylacidon sp.","scientific_name_id":"urn:lsid:marinespecies.org:taxname:168795","kingdom":"Animalia","phylum":"Porifera","specie_class":"Demospongiae","order":"Poecilosclerida","family":"Chondropsidae","genus":"Strongylacidon","scientific_name_authorship":"Lendenfeld, 1897","fid":"739"},{"id":147,"scientific_name":"Cribrochalina sp.","scientific_name_id":"urn:lsid:marinespecies.org:taxname:131776","kingdom":"Animalia","phylum":"Porifera","specie_class":"Demospongiae","order":"Haplosclerida","family":"Niphatidae","genus":"Cribrochalina","scientific_name_authorship":"Schmidt, 1870","fid":"247"},{"id":99,"scientific_name":"Caulerpa serrulata","scientific_name_id":"urn:lsid:marinespecies.org:taxname:211485","kingdom":"Plantae","phylum":"Chlorophyta","specie_class":"Ulvophyceae","order":"Bryopsidales","family":"Caulerpaceae","genus":"Caulerpa","scientific_name_authorship":"(Forsskål) J.Agardh, 1837","fid":"142"},{"id":268,"scientific_name":"Dictyota hamifera","scientific_name_id":"urn:lsid:marinespecies.org:taxname:220775","kingdom":"Chromista","phylum":"Ochrophyta","specie_class":"Phaeophyceae","order":"Dictyotales","family":"Dictyotaceae","genus":"Dictyota","scientific_name_authorship":"Setchell, 1926","fid":"749"},{"id":196,"scientific_name":"Champia vieillardii","scientific_name_id":"urn:lsid:marinespecies.org:taxname:145806","kingdom":"Plantae","phylum":"Rhodophyta","specie_class":"Florideophyceae","order":"Rhodymeniales","family":"Champiaceae","genus":"Champia","scientific_name_authorship":"Kützing, 1866","fid":"429"},{"id":81,"scientific_name":"Amphiroa tribulus","scientific_name_id":"urn:lsid:marinespecies.org:taxname:211627","kingdom":"Plantae","phylum":"Rhodophyta","specie_class":"Florideophyceae","order":"Corallinales","family":"Corallinaceae","genus":"Amphiroa","scientific_name_authorship":"(J.Ellis \u0026 Solander) J.V.Lamouroux, 1816","fid":"101"},{"id":44,"scientific_name":"Pericharax sp.","scientific_name_id":"urn:lsid:marinespecies.org:taxname:131707","kingdom":"Animalia","phylum":"Porifera","specie_class":"Calcarea","order":"Clathrinida","family":"Leucettidae","genus":"Pericharax","scientific_name_authorship":"Poléjaeff, 1883","fid":"44"},{"id":42,"scientific_name":"Rhipilia sp. 2","scientific_name_id":"urn:lsid:marinespecies.org:taxname:143823","kingdom":"Plantae","phylum":"Chlorophyta","specie_class":"Ulvophyceae","order":"Bryopsidales","family":"Rhipiliaceae","genus":"Rhipilia","scientific_name_authorship":"Kützing, 1858","fid":"42"},{"id":272,"scientific_name":"Psammocinia bulbosa","scientific_name_id":"urn:lsid:marinespecies.org:taxname:165064","kingdom":"Animalia","phylum":"Porifera","specie_class":"Demospongiae","order":"Dictyoceratida","family":"Irciniidae","genus":"Psammocinia","scientific_name_authorship":"Bergquist, 1995","fid":"767"},{"id":274,"scientific_name":"Cladophoropsis membranacea","scientific_name_id":"urn:lsid:marinespecies.org:taxname:145875","kingdom":"Plantae","phylum":"Chlorophyta","specie_class":"Ulvophyceae","order":"Siphonocladales","family":"Boodleaceae","genus":"Cladophoropsis","scientific_name_authorship":"(Hofman Bang ex C.Agardh) Børgesen, 1905","fid":"770"},{"id":142,"scientific_name":"Dictyota friabilis","scientific_name_id":"urn:lsid:marinespecies.org:taxname:220782","kingdom":"Chromista","phylum":"Ochrophyta","specie_class":"Phaeophyceae","order":"Dictyotales","family":"Dictyotaceae","genus":"Dictyota","scientific_name_authorship":"Setchell, 1926","fid":"234"}]
 ```

4.Rubocop
```
rubocop -A
```

5.rspec
```
rspec
rspec spec/controllers/api/v1/species_controller_spec.rb
rspec spec/controllers/api/v1/occurrences_controller_spec.rb
rspec spec/services/data_import/species_presence_spec.rb
rspec spec/services/species/map_geo_json_spec.rb
```

